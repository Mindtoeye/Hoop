<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_05) on Sun Jun 24 17:47:21 EDT 2012 -->
<title>INPartitioner</title>
<meta name="date" content="2012-06-24">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="INPartitioner";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/INPartitioner.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/cmu/cs/in/hadoop/INKeyComparer.html" title="class in edu.cmu.cs.in.hadoop"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../edu/cmu/cs/in/hadoop/INShardedOutputFormat.html" title="class in edu.cmu.cs.in.hadoop"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/cmu/cs/in/hadoop/INPartitioner.html" target="_top">Frames</a></li>
<li><a href="INPartitioner.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_edu.cmu.cs.in.hadoop.INHadoopReporter">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.cmu.cs.in.hadoop</div>
<h2 title="Class INPartitioner" class="title">Class INPartitioner</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../edu/cmu/cs/in/base/INBase.html" title="class in edu.cmu.cs.in.base">edu.cmu.cs.in.base.INBase</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html" title="class in edu.cmu.cs.in.hadoop">edu.cmu.cs.in.hadoop.INHadoopReporter</a></li>
<li>
<ul class="inheritance">
<li>edu.cmu.cs.in.hadoop.INPartitioner</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../edu/cmu/cs/in/network/INMessageReceiver.html" title="interface in edu.cmu.cs.in.network">INMessageReceiver</a>, org.apache.hadoop.mapred.JobConfigurable, org.apache.hadoop.mapred.Partitioner&lt;org.apache.hadoop.io.Text,org.apache.hadoop.io.Text&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">INPartitioner</span>
extends <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html" title="class in edu.cmu.cs.in.hadoop">INHadoopReporter</a>
implements org.apache.hadoop.mapred.Partitioner&lt;org.apache.hadoop.io.Text,org.apache.hadoop.io.Text&gt;</pre>
<div class="block">Here we have in a single class both the Hadoop parition driver as well as
 the class that generates the partition ID based on some kind of splitting
 preference. Currently you can have partitions assigned based on the first
 character of the key (alphabetical), the range of the document id (docid) 
 or the size of the document (docsize). Please see the comments in each of 
 the specific splitting methods to find out how partitions are assigned 
 based on the preferences.
 
 Please keep in mind that currently more classes are in development to use 
 the partitioning better and to make the Reducers more aware of which 
 partition they're part of. For more information see this example:
 
 http://www.riccomini.name/Topics/DistributedComputing/Hadoop/SortByValue/</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_edu.cmu.cs.in.hadoop.INHadoopReporter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;edu.cmu.cs.in.hadoop.<a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html" title="class in edu.cmu.cs.in.hadoop">INHadoopReporter</a></h3>
<code><a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#cachedMachineName">cachedMachineName</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../edu/cmu/cs/in/hadoop/INPartitioner.html#INPartitioner()">INPartitioner</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/cmu/cs/in/hadoop/INPartitioner.html#configure(org.apache.hadoop.mapred.JobConf)">configure</a></strong>(org.apache.hadoop.mapred.JobConf&nbsp;aConf)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/cmu/cs/in/hadoop/INPartitioner.html#getDocMax()">getDocMax</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/cmu/cs/in/hadoop/INPartitioner.html#getNrPartitions()">getNrPartitions</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/cmu/cs/in/hadoop/INPartitioner.html#getOriginalKey(java.lang.String)">getOriginalKey</a></strong>(java.lang.String&nbsp;formattedKey)</code>
<div class="block">Use this method if you want to retrieve the original key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/cmu/cs/in/hadoop/INPartitioner.html#getPartition(org.apache.hadoop.io.Text, org.apache.hadoop.io.Text, int)">getPartition</a></strong>(org.apache.hadoop.io.Text&nbsp;key,
            org.apache.hadoop.io.Text&nbsp;value,
            int&nbsp;numPartitions)</code>
<div class="block">The main entry point for Hadoop.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/cmu/cs/in/hadoop/INPartitioner.html#getPartitionFromKey(java.lang.String)">getPartitionFromKey</a></strong>(java.lang.String&nbsp;formattedKey)</code>
<div class="block">We will get keys in the form of: 
 apple:2,4
 Where the item after the colon is the partition ID and the
 item after the comma is the term count</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/cmu/cs/in/hadoop/INPartitioner.html#getPartitionType()">getPartitionType</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/cmu/cs/in/hadoop/INPartitioner.html#setDocMax(long)">setDocMax</a></strong>(long&nbsp;docMax)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/cmu/cs/in/hadoop/INPartitioner.html#setPartitionType(java.lang.String)">setPartitionType</a></strong>(java.lang.String&nbsp;partitionType)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_edu.cmu.cs.in.hadoop.INHadoopReporter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;edu.cmu.cs.in.hadoop.<a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html" title="class in edu.cmu.cs.in.hadoop">INHadoopReporter</a></h3>
<code><a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#getGuid()">getGuid</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#getHadoopClass()">getHadoopClass</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#getJob()">getJob</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#getMachineName()">getMachineName</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#handleConnectionClosed()">handleConnectionClosed</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#handleIncomingData(java.lang.String)">handleIncomingData</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#register()">register</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#register(java.lang.String)">register</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#setGuid(java.lang.String)">setGuid</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#setHadoopClass(java.lang.String)">setHadoopClass</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#setJob(org.apache.hadoop.mapred.JobConf)">setJob</a>, <a href="../../../../../edu/cmu/cs/in/hadoop/INHadoopReporter.html#unregister()">unregister</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_edu.cmu.cs.in.base.INBase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;edu.cmu.cs.in.base.<a href="../../../../../edu/cmu/cs/in/base/INBase.html" title="class in edu.cmu.cs.in.base">INBase</a></h3>
<code><a href="../../../../../edu/cmu/cs/in/base/INBase.html#addFilter(edu.cmu.cs.in.base.INFilterBase)">addFilter</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#debug(java.lang.String)">debug</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#debug(java.lang.String, java.lang.String)">debug</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#dumpDebugData(java.lang.String)">dumpDebugData</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#generateFileTimestamp()">generateFileTimestamp</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#getClassName()">getClassName</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#getClassType()">getClassType</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#getCurrentDate()">getCurrentDate</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#getFilters()">getFilters</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#getInstanceName()">getInstanceName</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#setClassName(java.lang.String)">setClassName</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#setClassType(java.lang.String)">setClassType</a>, <a href="../../../../../edu/cmu/cs/in/base/INBase.html#setInstanceName(java.lang.String)">setInstanceName</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="INPartitioner()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>INPartitioner</h4>
<pre>public&nbsp;INPartitioner()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getNrPartitions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNrPartitions</h4>
<pre>public&nbsp;int&nbsp;getNrPartitions()</pre>
</li>
</ul>
<a name="getDocMax()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDocMax</h4>
<pre>public&nbsp;long&nbsp;getDocMax()</pre>
</li>
</ul>
<a name="setDocMax(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDocMax</h4>
<pre>public&nbsp;void&nbsp;setDocMax(long&nbsp;docMax)</pre>
</li>
</ul>
<a name="getPartitionType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPartitionType</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPartitionType()</pre>
</li>
</ul>
<a name="getOriginalKey(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOriginalKey</h4>
<pre>public&nbsp;java.lang.String&nbsp;getOriginalKey(java.lang.String&nbsp;formattedKey)</pre>
<div class="block">Use this method if you want to retrieve the original key. This method
 works regardless if the key is encoded or not. Keys can come in the
 form of:
  
   apple:2,4
   
 Where the item after the colon is the partition ID and the
 item after the comma is the term count</div>
</li>
</ul>
<a name="getPartitionFromKey(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPartitionFromKey</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPartitionFromKey(java.lang.String&nbsp;formattedKey)</pre>
<div class="block">We will get keys in the form of: 
 apple:2,4
 Where the item after the colon is the partition ID and the
 item after the comma is the term count</div>
</li>
</ul>
<a name="setPartitionType(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPartitionType</h4>
<pre>public&nbsp;void&nbsp;setPartitionType(java.lang.String&nbsp;partitionType)</pre>
</li>
</ul>
<a name="configure(org.apache.hadoop.mapred.JobConf)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>configure</h4>
<pre>public&nbsp;void&nbsp;configure(org.apache.hadoop.mapred.JobConf&nbsp;aConf)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>configure</code>&nbsp;in interface&nbsp;<code>org.apache.hadoop.mapred.JobConfigurable</code></dd>
</dl>
</li>
</ul>
<a name="getPartition(org.apache.hadoop.io.Text, org.apache.hadoop.io.Text, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPartition</h4>
<pre>public&nbsp;int&nbsp;getPartition(org.apache.hadoop.io.Text&nbsp;key,
               org.apache.hadoop.io.Text&nbsp;value,
               int&nbsp;numPartitions)</pre>
<div class="block">The main entry point for Hadoop. It is called at the appropriate
 time by Hadoop to figure out which partition (set of nodes) the
 data should go to. Please keep in mind that currently more
 classes are in development to use the partitioning better and
 to make the Reducers more aware of which partition they're
 part of. For more information see this example:
 http://www.riccomini.name/Topics/DistributedComputing/Hadoop/SortByValue/</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getPartition</code>&nbsp;in interface&nbsp;<code>org.apache.hadoop.mapred.Partitioner&lt;org.apache.hadoop.io.Text,org.apache.hadoop.io.Text&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/INPartitioner.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/cmu/cs/in/hadoop/INKeyComparer.html" title="class in edu.cmu.cs.in.hadoop"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../edu/cmu/cs/in/hadoop/INShardedOutputFormat.html" title="class in edu.cmu.cs.in.hadoop"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/cmu/cs/in/hadoop/INPartitioner.html" target="_top">Frames</a></li>
<li><a href="INPartitioner.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_edu.cmu.cs.in.hadoop.INHadoopReporter">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
